var facebookAppId;!function(e,o,a){var n,s=e.getElementsByTagName(o)[0];e.getElementById(a)||((n=e.createElement(o)).id=a,n.src="//connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(n,s))}(document,"script","facebook-jssdk"),"undefined"!=typeof qodefSocialLoginVars&&(facebookAppId=qodefSocialLoginVars.social.facebookAppId),facebookAppId&&(window.fbAsyncInit=function(){FB.init({appId:facebookAppId,cookie:!0,xfbml:!0,version:"v5.0"}),window.FB=FB}),function(t){"use strict";var e={};function o(){var e,o=t(".qodef-login-opener"),a=t(".qodef-login-register-holder");t(document.body).on("open_user_login_trigger",function(){a.fadeIn(300),a.addClass("opened")}),o&&(e=t(".qodef-login-register-content"),o.on("click",function(e){e.preventDefault(),a.fadeIn(300),a.addClass("opened")}),a.on("click",function(e){a.hasClass("opened")&&(a.fadeOut(300),a.removeClass("opened"))}),e.on("click",function(e){e.stopPropagation()}),t(window).on("keyup",function(e){a.hasClass("opened")&&27===e.keyCode&&(a.fadeOut(300),a.removeClass("opened"))}),e.tabs())}function a(){t(".qodef-login-form").on("submit",function(e){e.preventDefault();var o={action:"setsail_membership_login_user",security:t(this).find("#qodef-login-security").val(),login_data:t(this).serialize()};return t.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);i(o),"success"===o.status&&(window.location=o.redirect)}}),!1})}function n(){t(".qodef-register-form").on("submit",function(e){e.preventDefault();var o={action:"setsail_membership_register_user",security:t(this).find("#qodef-register-security").val(),register_data:t(this).serialize()};return t.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);i(o),"success"===o.status&&(window.location=o.redirect)}}),!1})}function s(){var a=t(".qodef-reset-pass-form");a.on("submit",function(e){e.preventDefault();var o={action:"setsail_membership_user_lost_password",user_login:a.find("#user_reset_password_login").val()};t.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);i(o),"success"===o.status&&(window.location=o.redirect)}})})}function i(e){var o=t(".qodef-membership-response-holder"),a=_.template(t(".qodef-membership-response-template").html()),n="success"===e.status?"qodef-membership-message-succes":"qodef-membership-message-error",s=a({messageClass:n,message:e.message});o.html(s)}function r(){t(".qodef-facebook-login-holder").on("submit",function(e){e.preventDefault(),window.FB.login(function(e){var o;"connected"===(o=e).status?(console.log("Welcome! Fetching information from Facebook..."),FB.api("/me","GET",{fields:"id, name, email, link, picture"},function(e){var o=t(".qodef-facebook-login-holder [name^=qodef_nonce_facebook_login]").val();e.nonce=o,e.image=e.picture.data.url;var a={action:"setsail_membership_check_facebook_user",response:e};t.ajax({type:"POST",data:a,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);i(o),"success"===o.status&&(window.location=o.redirect)}})})):"not_authorized"===o.status?console.log("Please log into this app"):console.log("Please log into Facebook")},{scope:"email, public_profile"})})}function d(){var e;"undefined"!=typeof qodefSocialLoginVars&&(e=qodefSocialLoginVars.social.googleClientId),e?gapi.load("auth2",function(){window.auth2=gapi.auth2.init({client_id:e}),t(".qodef-google-login-holder").on("submit",function(e){e.preventDefault(),window.auth2.signIn(),function(){{var e,o,a;window.auth2.isSignedIn.get()&&(e=window.auth2.currentUser.get().getBasicProfile(),o=t(".qodef-google-login-holder [name^=qodef_nonce_google_login]").val(),a={action:"setsail_membership_check_google_user",response:{id:e.getId(),name:e.getName(),email:e.getEmail(),image:e.getImageUrl(),link:"https://plus.google.com/"+e.getId(),nonce:o}},t.ajax({type:"POST",data:a,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);i(o),"success"===o.status&&(window.location=o.redirect)}}))}}()})}):t(".qodef-google-login-holder").on("submit",function(e){e.preventDefault()})}"undefined"!=typeof qodef&&(qodef.modules.socialLogin=e),e.qodefUserLogin=a,e.qodefUserRegister=n,e.qodefUserLostPassword=s,e.qodefInitLoginWidgetModal=o,e.qodefInitFacebookLogin=r,e.qodefInitGooglePlusLogin=d,e.qodefRenderAjaxResponseMessage=i,t(document).ready(function(){o(),a(),n(),s(),function(){var e=t(".qodef-mobile-header .qodef-user-logged-in");e.length&&e.each(function(){var e=t(this),o=e.find(".qodef-logged-in-user"),a=e.find(".qodef-login-dropdown");o.on("click",function(e){e.preventDefault(),a.hasClass("qodef-active")?a.removeClass("qodef-active"):a.addClass("qodef-active")})})}()}),t(window).on("load",function(){r(),d(),function(){t(".qodef-membership-main-wrapper");var e=t(".page-template-user-dashboard .qodef-content"),o=t(".qodef-page-footer"),a=0;!qodef.body.hasClass("qodef-header-transparent")&&1024<qodef.windowWidth&&(a=a+qodefGlobalVars.vars.qodefMenuAreaHeight+qodefGlobalVars.vars.qodefLogoAreaHeight);0<o.length&&(a+=o.outerHeight());{var n;1024<qodef.windowWidth&&(n=qodef.windowHeight-a,e.css({"min-height":n+"px"}))}}()})}(jQuery),function(t){"use strict";var e={};function o(){a(),t(document.body).on("setsail_membership_favorites_trigger",function(){a()})}function a(){t(".qodef-membership-item-favorites").on("click",function(e){e.preventDefault();var o,a,n,s=t(this);void 0!==s.data("item-id")&&(o=s.data("item-id")),a=s,n={action:"setsail_membership_add_item_to_favorites",item_id:o},t.ajax({type:"POST",data:n,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);"success"===o.status&&(a.hasClass("qodef-icon-only")||a.find("span").text(o.data.message),a.find(".qodef-favorites-icon").removeClass("fa-heart fa-heart-o").addClass(o.data.icon))}})})}(qodef.modules.membershipFavorites=e).qodefOnDocumentReady=o,t(document).ready(o)}(jQuery);